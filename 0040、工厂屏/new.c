/*头文件*/
#include<reg52.h>
#include<intrins.h>
/*宏定义*/
#define uchar unsigned char
#define uint  unsigned int

sbit ds=P1^1;//数据打入口
sbit shcp=P1^0;//移位数据脉冲
sbit stcp=P1^3;//数据打出脉冲

uchar temp,j=0,i,k=0;



void hang();
void delay500ms(void);

/***************************************************/
unsigned  code sw[16]={0x70,0x71,0x72,0x73,0x74,0x75,0x76,0x77,
                   0x60,0x61,0x62,0x63,0x64,0x65,0x66,0x67}; /*16行段码*/
			
/***************************************************/
unsigned code hangzi[]={
/*我   CCED2   1 */
0x06,0xE0,0x1E,0x3C,0x36,0x30,0x36,0x30,0x06,0x30,0xFF,0xFF,0x06,0x30,0x36,0x30,
0x3C,0xF0,0x1C,0x3C,0x0C,0x37,0x1E,0x30,0xDB,0xB0,0xF0,0x30,0xE0,0x3C,0xC0,0x18,

/*的   CB5C4   2*/
0x03,0x18,0x03,0x18,0x03,0x0C,0x7F,0x7E,0x61,0xE6,0x61,0xE6,0x60,0xE6,0x63,0x7E,
0x66,0x66,0x6E,0x66,0x6C,0x66,0x60,0x66,0x60,0x7E,0x3C,0x66,0x18,0x06,0x00,0x00,

/*字   CD7D6  3*/
0x00,0xC0,0x01,0x80,0x7F,0xFC,0x60,0x0C,0x30,0x06,0x0F,0xF8,0x06,0x00,0x03,0x00,
0x01,0x80,0xFF,0xFE,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0xE0,0x00,0xC0,

/*库   CBFE2  4*/
0x01,0x80,0x03,0x00,0xFF,0xFC,0x01,0x8C,0x01,0x8C,0x7F,0xFC,0x06,0xCC,0x06,0x6C,
0x7F,0xFC,0x06,0x6C,0x06,0x0C,0xFF,0xFC,0x06,0x0C,0x06,0x06,0x06,0x06,0x06,0x03,

/*结   CBDE1  5*/
0x0C,0x18,0x0C,0x18,0x0C,0x0C,0xFF,0xCC,0x0C,0x36,0x0C,0x1F,0x7F,0x98,0x00,0x0C,
0x00,0x06,0x7F,0xBF,0x61,0x80,0x61,0x80,0x61,0xB8,0x7F,0x8F,0x61,0x80,0x00,0x00,

/*构   CB9B9  6*/
0x06,0x18,0x06,0x18,0x03,0x18,0x7F,0xFF,0x61,0x98,0x66,0xDC,0x66,0x3C,0x63,0x7E,
0x6F,0x7E,0x79,0x9B,0x7F,0xD8,0x78,0x18,0x60,0x18,0x78,0x18,0x30,0x18,0x00,0x00,

/*横   CBAE1  7*/
0x1B,0x0C,0x1B,0x0C,0x7F,0xCC,0x1B,0x0C,0x1B,0x3F,0xFF,0xEC,0x0C,0x1E,0x7F,0xBE,
0x6D,0x8F,0x7F,0x8F,0x6D,0x8C,0x7F,0x8C,0x00,0x0C,0x33,0x0C,0xE1,0x8C,0xC0,0xEC,

/*向   CCFF2  8*/
0x00,0xC0,0x00,0x60,0x7F,0xFC,0x60,0x0C,0x60,0x0C,0x6F,0xEC,0x6C,0x6C,0x6C,0x6C,
0x6C,0x6C,0x6C,0x6C,0x6F,0xEC,0x6C,0x6C,0x60,0x0C,0x78,0x0C,0x30,0x0C,0x00,0x00,

/*组   CD7E9  9*/
0x00,0x18,0x3F,0xB8,0x31,0x98,0x31,0xEC,0x31,0xEC,0x3F,0xBE,0x31,0xB0,0x31,0x98,
0x31,0x8C,0x3F,0xFE,0x31,0x80,0x31,0x80,0x31,0xF0,0xFF,0xDE,0x00,0x00,0x00,0x00,

/*边   CB1DF  10*/
0x03,0x06,0x03,0x0C,0x03,0x1C,0x03,0x0C,0x3F,0xE0,0x33,0x00,0x33,0x1F,0x33,0x18,
0x31,0x98,0x31,0x98,0x30,0xD8,0x1E,0x78,0x0C,0x18,0x00,0x3C,0xFF,0xE6,0x00,0x00,

/*************************************************************************************************************/
/*取   CC8A1  11*/
0x00,0x00,0x03,0xFF,0xFE,0xCC,0x66,0xCC,0x66,0xFC,0x66,0xCC,0x66,0xCC,0x3C,0xFC,
0x3C,0xCC,0x1B,0xCC,0x19,0xEC,0x3C,0xFC,0xE6,0xC7,0x63,0xC0,0x00,0xC0,0x00,0xC0,

/*顺   CCBB3  12*/
0x00,0x00,0xFF,0xE6,0x0C,0x7E,0x06,0x7E,0x7F,0xFE,0x61,0xFE,0x61,0xFE,0x6D,0xFE,
0x6D,0xFE,0x6D,0xFE,0x6D,0xFE,0x0C,0x7E,0x1E,0x66,0x73,0x63,0x61,0xE0,0x00,0x00,

/*序   CD0F2  13*/
0x01,0x80,0x03,0x00,0xFF,0xFC,0x00,0x0C,0x3F,0xEC,0x19,0x8C,0x0F,0x0C,0x06,0x0C,
0xFF,0xFC,0x66,0x0C,0x06,0x0C,0x06,0x0C,0x06,0x0C,0x06,0x06,0x07,0x86,0x03,0x03,

/*右   CD3D2 14 */
0x00,0xC0,0x00,0xC0,0x00,0xC0,0xFF,0xFF,0x00,0x60,0x00,0x60,0x00,0x30,0x00,0x38,
0x3F,0xFC,0x30,0x36,0x30,0x33,0x30,0x30,0x30,0x30,0x3F,0xF0,0x30,0x30,0x00,0x00,

/*上   CC9CF  15*/
0x00,0x00,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x3F,0x80,0x01,0x80,
0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x61,0x80,0xFF,0xFE,0x00,0x00,

/*角   CBDC7  16*/
0x00,0x60,0x3F,0xE0,0x18,0x60,0x0C,0x30,0x7F,0xF8,0x63,0x1C,0x63,0x1E,0x7F,0xF8,
0x63,0x18,0x63,0x18,0x7F,0xF8,0x63,0x18,0x63,0x18,0x63,0x0C,0x7B,0x0C,0x33,0x06,

/*奏   CD7E0  17*/
0x01,0x80,0x7F,0xFE,0x01,0x80,0x3F,0xFC,0x01,0x80,0xFF,0xFF,0x06,0xC0,0x0C,0x60,
0x3F,0xF0,0xE1,0x9C,0x61,0x87,0x3F,0xF8,0x06,0xC0,0x1C,0x60,0x78,0x38,0x30,0x0E,

/*就   CBECD  18*/
0x0C,0x18,0x3C,0x30,0x6D,0xFF,0x6C,0x00,0x0C,0x00,0xFF,0xFE,0x1E,0xC6,0x1E,0xC6,
0x1E,0xFE,0x1E,0x30,0x1E,0x7C,0x1B,0xFC,0xDB,0xF6,0xD9,0xB3,0xF0,0xFC,0x00,0x18,

/*大   CB4F3 19 */
0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0xFF,0xFF,0x01,0x80,0x03,0xC0,
0x03,0xC0,0x06,0xC0,0x06,0x60,0x0C,0x60,0x18,0x30,0x38,0x18,0xF0,0x0C,0x60,0x06,

/*打   CB4F2  20*/
0x00,0x18,0x00,0x18,0xFF,0xD8,0x0C,0x18,0x0C,0xFF,0x0C,0x18,0x0C,0x78,0x0C,0x38,
0x0C,0x1C,0x0C,0x1F,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0F,0x1E,0x06,0x0C

};

/***************************************************/
shcp1(uchar temp)
{
  uchar i;
    for (i=0;i<8;i++)
			{
				temp=temp<<1;
				ds=CY;
				shcp=1;
				shcp=0;
			}
}		

/***************************************************/	
void stcp1(void)
{
stcp=1;
stcp=0;
}


			
void hang (uchar t)
{
uchar l;
for(i=0;i<16;i++)
{
 P2=sw[i];
for (t=0;t<10;t++)
{
 j=32*t+k;
 for(l=0;l<2;l++)
{
temp=hangzi[j];
shcp1(temp);

j=j+1;
}

if (j==32*(t+1))
{
j=0;
}
}
stcp1();
k=k+2;
delay500ms();

}
}
/***************************************************/
void delay500ms(void)
{
   unsigned char i,j,k;
   for(i=10;i>0;i--)
   for(j=10;j>0;j--)
   for(k=11;k>0;k--);
}


/***************************************************/
void main(void)
{
  while(1)
  {
  uchar i;
  uint j;
  stcp=0;
  for (i=0;i<20;i++)
  {
  for (j=0;j<50;j++)
  {
  hang(i);
 }
  
  }}
}