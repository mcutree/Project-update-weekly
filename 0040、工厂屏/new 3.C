#include <reg51.h>
#include <intrins.h>
#define uchar unsigned char
#define unit  unsigned int

void display(void);


unsigned char code table[48];




uchar code table[]={
	                  
	                      0x01,0x80,0x00,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x00,
	                      0x01,0x80,0x01,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x01,
	                      0x01,0x80,0x02,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x02,
	                      0x01,0x80,0x03,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x03,
                        0x01,0x80,0x04,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x04,
                        0xFF,0xFF,0x05,//0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/**/0x05,
                        0x01,0x80,0x06,//0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,/**/0x06,
                        0x03,0xC0,0x07,//0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,/**/0x07,
                        0x03,0xC0,0x08,//0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,0x03,0xC0,/**/0x08,
                        0x06,0xc0,0x09,//0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,/**/0x09,
                        0x06,0x60,0x0a,//0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,/**/0x0A,
                        0x0C,0x06,0x0b,//0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,/**/0x0B,
                        0x18,0x30,0x0c,//0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x0C,0x18,/**/0x0C,
                        0x38,0x18,0x0d,//0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,0x18,0x1C,/**/0x0D,
                        0xF0,0xC0,0x0e,//0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,0x30,0x0F,/**/0x0E,
                        0x60,0x06,0x0f,//0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,0x60,0x06,/**/0x0F,
                      
                              };
                  


sbit ds=P1^1;//数据打入口
sbit shcp=P1^0;//移位数据脉冲
sbit stcp=P1^3;//数据打出脉冲




//*****************************显示函数
void display(void)
{
	unit rw,j=0;
	uchar temp,i;
	for(rw=0;rw<48;rw++)
	 {  
			j=j+1; 
			temp=table[rw];
			
			for (i=0;i<8;i++)
			{
				temp=temp<<1;
				ds=CY;
				shcp=1;
				shcp=0;
		
			}
			if (j==3)
			{
				stcp=0;
				stcp=1;
	      j=0;
	     
	}
}
}



//********************************延时




//*******************************主函数
void main (void)
{
   shcp=0;
   stcp=0;
   
while(1)		    
   {
   

    display();
  
   }
	
   
}   
